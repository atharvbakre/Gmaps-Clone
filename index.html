<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Google Maps</title>
    <style type="text/css">
        #map {
            height: 600px;
            width: 100%;
        }
    </style>
    <script>
        function initMap() {
            var directionsService = new google.maps.DirectionsService();
            var directionsRenderer = new google.maps.DirectionsRenderer();
            var location = {
                lat: 19.997454,
                lng: 73.789803
            }
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 8,
                center: location
            });
            directionsRenderer.setMap(map);

            var origin, destination;
            google.maps.event.addListener(map, 'click', (e) => {
                if (!origin || !destination) {
                    addMarker(e.latLng);
                    if (!origin) origin = e.latLng;
                    else if (!destination) destination = e.latLng;
                }
            })

            function addMarker(coords) {
                const marker = new google.maps.Marker({
                    position: coords,
                    map: map,
                });
            }

            document.getElementById('go').addEventListener('click', (e) => {
                calcRoute();
            })

            function calcRoute() {
                var selectedMode = document.getElementById('mode').value;
                var request = {
                    origin,
                    destination,
                    travelMode: google.maps.TravelMode[selectedMode]
                };
                directionsService.route(request, function (response, status) {
                    if (status == 'OK') {
                        directionsRenderer.setDirections(response);
                    }
                });
            }
        }
    </script>
</head>

<body>
    <div>
        <strong>Mode </strong>
        <select id="mode">
            <option value="DRIVING">Driving</option>
            <option value="WALKING">Walking</option>
            <option value="BICYCLING">Bicycling</option>
            <option value="TRANSIT">Transit</option>
        </select>
        <button type="button" id="go">Go</button>
    </div>
    <div id="map"></div>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB1gAGoiCASQMuzAUBKUxZ7P-zd1ez8SXc&callback=initMap"
        async></script>
</body>

</html>